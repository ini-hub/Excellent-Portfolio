---
// src/components/AboutSection.astro

interface RecognitionImage {
    id: string;
    src: string;
    alt: string;
    caption: string;
}

interface Props {
    items: RecognitionImage[];
}

const { items } = Astro.props;
---
<section id="about" 
    class="
        bg-white rounded-lg 
        p-10 lg:px-[10%] xl:px-40 /* Inner padding retained */
        mb-5 mx-auto
    "
>
    <h2 class="text-deep-blue text-3xl font-bold mb-4">My Vision: Engineering Management & Leadership</h2>
    <p class="mb-4">My approach to quality assurance is informed by strategic leadership and business acumen, solidified by an MSc. Engineering Management from the University of Leeds (UK). I focus not just on testing, but on risk mitigation, process optimization, and aligning technical strategy with measurable business goals.</p>
    
    <h3 class="text-deep-blue text-2xl font-bold mt-8 mb-4 text-center">Key Recognitions + Certifications üèÜ</h3>
    
    {/* Call the RecognitionGallery component, passing the data array */}
    <div class="flex flex-wrap justify-center gap-5 mt-8">
        {items.map((item: RecognitionImage) => (
            <figure class="
                text-center 
                /* Responsive Widths: Fixes squeezing */
                w-full sm:w-[calc(50%-10px)] md:w-[calc(33.333%-14px)] lg:w-[calc(25%-15px)] 
                
                p-4 
                border border-gray-200 rounded-lg bg-gray-50 
                shadow-sm transition duration-300 ease-in-out hover:shadow-lg
                group/figure /* Parent for hover effects */
            ">
                
                <div class="flex flex-col h-full"> 
                    
                    {/* IMAGE BLOCK: Fixed height container */}
                    <div class="h-36 mb-3 flex items-center justify-center">
                        
                        {/* CRITICAL CHANGE: Removed href, added gallery-trigger class and data attributes */}
                        <a href="#"
                            class="block w-full h-full gallery-trigger cursor-pointer" 
                            data-img-src={item.src}
                            data-img-alt={item.alt}
                        > 
                            <img 
                                src={item.src} 
                                alt={item.alt}
                                class="
                                    w-full h-full object-cover 
                                    rounded-md cursor-pointer 
                                    transition duration-200 hover:translate-y-[-3px]
                                "
                            >
                        </a>
                    </div>
                    
                    {/* CAPTION BLOCK: Truncation and Hover Display */}
                    <figcaption class="
                        text-sm text-gray-700 font-semibold 
                        py-1 mt-auto 
                        overflow-hidden 
                        line-clamp-2 
                        group-hover/figure:line-clamp-none 
                        group-hover/figure:whitespace-normal
                        " 
                        set:html={item.caption} 
                    />
                </div>
            </figure>
        ))}
    </div>
</section>